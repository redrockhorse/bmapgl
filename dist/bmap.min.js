!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("echarts")):"function"==typeof define&&define.amd?define(["exports","echarts"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).bmap={},t.echarts)}(this,(function(t,e){"use strict";function n(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}var o=n(e);function r(t,e){const n=s();return(r=function(t,e){return n[t-=410]})(t,e)}const i=r;function s(){const t=["lat","style","pointToOverlayPixel","5241nkPYJK","initialize","Point","querySelector","clone","792262DRFoMv","getHeight","map","__bmap","ec-extension-bmap","1764WKCIcc","setCenter","_mapOffset","height","__mapOffset","pointToData","lng","getWidth","center","position:absolute;width:100%;height:100%","142788HffYeE","getViewportRootOffset","bmap","type","50632NyznNU","prototype","labelPane","getZoom","getPanes","addOverlay","33dazPhf","getViewRect","appendChild","1908960HRDiIc","overlayPixelToPoint","1756392SHesIv","pointToPixel","convertToPixel","_center","setMapOffset","convertFromPixel","dimensions","eachSeries","centerOrZoomChanged","BMapGL api is not loaded","mapOptions","className","1062dqTxhC","removeChild","setZoom","Only one bmap component can exist","_bmap","prepareCustoms","zoom","0px","bind","width","create","coordinateSystem","mapType","dataToPoint","_api","get","130iKwQBe","painter","div","675GMpzcb","BoundingRect","draw","9426rxVgrO","getViewportRoot","Overlay","_root",".ec-extension-bmap","cssText"];return(s=function(){return t})()}function a(t,e){const n=r;this[n(455)]=t,this[n(445)]=[n(420),"lat"],this[n(416)]=[0,0],this._api=e}function c(t,n){const o=i;return n=n||[0,0],e.util[o(411)]([0,1],(function(e){const r=o,i=n[e],s=t[e]/2,a=[],c=[];return a[e]=i-s,c[e]=i+s,a[1-e]=c[1-e]=n[1-e],Math.abs(this[r(464)](a)[e]-this[r(464)](c)[e])}),this)}let p;!function(t,e){const n=r,o=t();for(;;)try{if(526104===parseInt(n(487))/1+-parseInt(n(451))/2*(parseInt(n(482))/3)+parseInt(n(424))/4*(-parseInt(n(467))/5)+parseInt(n(473))/6*(parseInt(n(414))/7)+parseInt(n(428))/8*(parseInt(n(470))/9)+-parseInt(n(437))/10*(-parseInt(n(434))/11)+parseInt(n(439))/12)break;o.push(o.shift())}catch(t){o.push(o.shift())}}(s),a[i(429)][i(427)]=i(426),a.prototype[i(445)]=["lng","lat"],a.prototype[i(453)]=function(t){this._zoom=t},a[i(429)][i(415)]=function(t){const e=i;this[e(442)]=this[e(455)][e(440)](new BMapGL.Point(t[0],t[1]))},a[i(429)][i(443)]=function(t){this[i(416)]=t},a[i(429)].getBMap=function(){return this._bmap},a[i(429)][i(464)]=function(t){const e=i,n=new BMapGL.Point(t[0],t[1]),o=this[e(455)][e(481)](n),r=this[e(416)];return[o.x-r[0],o.y-r[1]]},a[i(429)][i(419)]=function(t){const e=i,n=this._mapOffset;return[(t=this[e(455)][e(438)]({x:t[0]+n[0],y:t[1]+n[1]}))[e(420)],t[e(479)]]},a[i(429)][i(435)]=function(){const t=i,n=this[t(465)];return new(e.graphic[t(471)])(0,0,n[t(421)](),n[t(410)]())},a[i(429)].getRoamTransform=function(){return e.matrix.create()},a.prototype[i(456)]=function(){const t=i,n=this.getViewRect();return{coordSys:{type:t(426),x:n.x,y:n.y,width:n[t(460)],height:n[t(417)]},api:{coord:e.util[t(459)](this[t(464)],this),size:e.util[t(459)](c,this)}}},a[i(429)][i(441)]=function(t,e,n){return this[i(464)](n)},a[i(429)][i(444)]=function(t,e,n){return this[i(419)](n)},a[i(445)]=a[i(429)][i(445)],a[i(461)]=function(t,n){const o=i;let s;const c=n.getDom();return t.eachComponent(o(426),(function(t){const f=o,u=n.getZr()[f(468)],l=u[f(474)]();if("undefined"==typeof BMapGL)throw new Error(f(448));if(p=p||function(){const t=i;function e(t){this[r(476)]=t}return e.prototype=new(BMapGL[t(475)]),e[t(429)][t(483)]=function(e){const n=t;return e[n(432)]()[n(430)][n(436)](this[n(476)]),this[n(476)]},e[t(429)][t(472)]=function(){},e}(),s)throw new Error(f(454));let m;if(!t[f(412)]){let n=c[f(485)](f(477));n&&(l[f(480)].left=f(458),l.style.top=f(458),c[f(452)](n)),n=document.createElement(f(469)),n[f(450)]=f(413),n.style[f(478)]=f(423),c.appendChild(n);let o=t.get(f(449));o&&(o=e.util[f(486)](o),delete o[f(463)]),m=t.__bmap=new BMapGL.Map(n,o);const r=new p(l);m[f(433)](r),u[f(425)]=function(){return{offsetLeft:0,offsetTop:0}}}m=t[f(412)];const h=t[f(466)](f(422)),d=t[f(466)](f(457));if(h&&d){const e=m.getCenter(),n=m[f(431)]();if(t[f(447)]([e.lng,e[f(479)]],n)){const t=new(BMapGL[f(484)])(h[0],h[1]);m.centerAndZoom(t,d)}}s=new a(m,n),s[f(443)](t[f(418)]||[0,0]),s[f(453)](d),s[f(415)](h),t[f(462)]=s})),t[o(446)]((function(t){const e=o;"bmap"===t[e(466)](e(462))&&(t[e(462)]=s)})),s&&[s]};const f=l;function u(){const t=["__bmap","267460kNxzJf","zoom","202881pxRRWX","95nYBZMt","bmap","center","195932zCMPYq","54iAPcFe","824eEHBbP","2YvAGek","3033OKYgHf","9005898GPErNs","option","10878680AyilHY","extendComponentModel","2289507cBmjax"];return(u=function(){return t})()}function l(t,e){const n=u();return(l=function(t,e){return n[t-=459]})(t,e)}function m(){const t=["dispatchAction","1447344ZLFggi","roam","enableDoubleClickZoom","__mapStyle2","bmapRoam","get","144260sXTfbl","setMapStyleV2","5seOOTL","disableDoubleClickZoom","parse","clone","removeEventListener","move","230OmLrAD","addEventListener","_oldMoveHandler","92698XVAiWi","coordinateSystem","38886Bmsmcg","zoomend","painter","__mapStyle","_oldZoomEndHandler","87BgURYl","parentNode","disableScrollWheelZoom","style","stringify","util","moving","2452856cdSRpk","top","__mapOffset","getBMap","enableScrollWheelZoom","hasOwnProperty","moveend","getViewportRoot","bmap","153gQMcXy","enableDragging","454311chsXfb","disablePinchToZoom","disableDragging","scale","328gbFAVb","enablePinchToZoom","extendComponentView","left","getZr"];return(m=function(){return t})()}!function(t,e){const n=l,o=t();for(;;)try{if(660184===parseInt(n(466))/1+-parseInt(n(469))/2*(parseInt(n(475))/3)+parseInt(n(460))/4*(parseInt(n(463))/5)+-parseInt(n(467))/6*(-parseInt(n(462))/7)+-parseInt(n(468))/8*(parseInt(n(470))/9)+-parseInt(n(473))/10+parseInt(n(471))/11)break;o.push(o.shift())}catch(t){o.push(o.shift())}}(u),o[f(474)]({type:f(464),getBMap:function(){return this[f(459)]},setCenterAndZoom:function(t,e){const n=f;this[n(472)][n(465)]=t,this[n(472)].zoom=e},centerOrZoomChanged:function(t,e){const n=f,o=this[n(472)];return r=t,i=o[n(465)],!(r&&i&&r[0]===i[0]&&r[1]===i[1]&&e===o[n(461)]);var r,i},defaultOption:{center:[104.114129,37.550339],zoom:5,mapStyle:{},mapStyleV2:{},mapOptions:{},roam:!1}});const h=d;function d(t,e){const n=m();return(d=function(t,e){return n[t-=356]})(t,e)}function g(t){const e=d;for(const n in t)if(t[e(384)](n))return!1;return!0}!function(t,e){const n=d,o=t();for(;;)try{if(185812===-parseInt(n(356))/1*(parseInt(n(365))/2)+-parseInt(n(372))/3*(-parseInt(n(394))/4)+parseInt(n(362))/5*(parseInt(n(367))/6)+-parseInt(n(379))/7+parseInt(n(400))/8+-parseInt(n(388))/9*(-parseInt(n(406))/10)+parseInt(n(390))/11)break;o.push(o.shift())}catch(t){o.push(o.shift())}}(m),o[h(396)]({type:h(387),render:function(t,e,n){const r=h;let i=!0;const s=t[r(382)](),a=n[r(398)]()[r(369)][r(386)](),c=t[r(366)],p=function(e,o){const s=r;if(i)return;const p=a[s(373)][s(373)][s(373)],f=[-parseInt(p[s(375)][s(397)],10)||0,-parseInt(p[s(375)][s(380)],10)||0],u=a.style,l=f[0]+"px",m=f[1]+"px";u[s(397)]!==l&&(u[s(397)]=l),u[s(380)]!==m&&(u[s(380)]=m),c.setMapOffset(f),t[s(381)]=f,n[s(399)]({type:s(404),animation:{duration:0}})};function f(){const t=r;i||n[t(399)]({type:t(404),animation:{duration:0}})}s.removeEventListener(r(378),this[r(364)]),s[r(360)](r(385),this[r(364)]),s.removeEventListener(r(368),this[r(371)]),s.addEventListener("moving",p),s[r(363)](r(385),p),s[r(363)]("zoomend",f),this[r(364)]=p,this._oldZoomEndHandler=f;const u=t.get(r(401));u&&u!==r(393)?s[r(389)]():s[r(392)](),u&&u!==r(361)?(s[r(383)](),s[r(402)](),s[r(395)]()):(s[r(374)](),s[r(357)](),s[r(391)]());const l=t[r(370)],m=t[r(405)]("mapStyle")||{},d=JSON.stringify(m);JSON.stringify(l)!==d&&(!g(m)&&s.setMapStyleV2(o.util[r(359)](m)),t[r(370)]=JSON[r(358)](d));const y=t[r(403)],b=t[r(405)]("mapStyleV2")||{},I=JSON[r(376)](b);JSON[r(376)](y)!==I&&(!g(b)&&s[r(407)](o[r(377)][r(359)](b)),t[r(403)]=JSON[r(358)](I)),i=!1}});const y=b;function b(t,e){const n=I();return(b=function(t,e){return n[t-=248]})(t,e)}function I(){const t=["bmapRoam","2MJhnje","bmap","168695qLmJNs","setCenterAndZoom","2339598dQjRXI","294453ROxybl","1.0.0","27kzeWPR","320LSXFmB","4375qEbVDD","eachComponent","registerCoordinateSystem","updateLayout","lat","getZoom","1342428CBQmjO","getCenter","getBMap","760Ksybcj","2315660gTxkDV"];return(I=function(){return t})()}!function(t,e){const n=b,o=t();for(;;)try{if(251039===parseInt(n(255))/1+-parseInt(n(253))/2*(parseInt(n(260))/3)+parseInt(n(268))/4+parseInt(n(251))/5+parseInt(n(257))/6+-parseInt(n(262))/7*(parseInt(n(250))/8)+-parseInt(n(258))/9*(parseInt(n(261))/10))break;o.push(o.shift())}catch(t){o.push(o.shift())}}(I),o[y(264)](y(254),a),o.registerAction({type:y(252),event:"bmapRoam",update:y(265)},(function(t,e){const n=y;e[n(263)](n(254),(function(t){const e=n,o=t[e(249)](),r=o[e(248)]();t[e(256)]([r.lng,r[e(266)]],o[e(267)]())}))}));const O=y(259);t.version=O}));
